<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/html">
<head>

    {% block head %}
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!--<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous"> -->
    <style type="text/css">
        {% include "css/bootstrap.min.css" %}















    </style>
    <script src="https://unpkg.com/echarts@4.1.0/dist/echarts.min.js"></script>
    <script type="text/javascript">
        {% include "js/base.js" %}
        {% include "js/jquery.min.js" %}
        {% include "js/bootstrap.min.js" %}
        {% include "js/echarts.min.js" %}

        function showElementOnly(id){
            document.getElementById(id).style.display = "block";
        }

        function showNow(id){
            console.log(id)
            document.getElementById(id).style.display = "table-row";
        }

        function hideNow(id){
            console.log(id)
            document.getElementById(id).style.display = "none";
        }

        function dealstatus(status, all_data){
            console.log(status);
            console.log(all_data);
            now_a = [];
            now_b = [];
            if (status == "pass"){
                now_a = ["pass"];
                now_b = ["failed", "skiped", "error"];
            } else if (status == "failed") {
                now_a = ["failed"];
                now_b = ["pass", "skiped", "error"];
            } else if (status == "skiped") {
                now_a = ["skiped"];
                now_b = ["pass", "failed", "error"];
            } else if (status == "error") {
                now_a = ["error"];
                now_b = ["pass", "failed", "skiped"];
            } else if (status == "all") {
                now_a = ["pass", "failed", "error", "skiped"];
                now_b = [];
            }
            for(var j=0; j<now_a.length; j++){
                now_status = all_data[now_a[j]];
                for(var i=0; i<now_status.length; i++){
                    console.log(now_status[i]);
                    showNow(now_status[i]);
                }
            }
            for(var i=0; i<now_b.length; i++){
                now_status_b = all_data[now_b[i]];
                for(var j=0; j<now_status_b.length; j++){
                    console.log("hide " + now_status_b[j]);
                    hideNow(now_status_b[j]);
                }
            }

        }

        function showElements(suite, status){
            showElementOnly(suite);
            all_data = {};
            {% for suite in results.details.keys() %}
            all_data['{{suite}}'] = {"pass": new Array(), "failed": new Array(), "skiped": new Array(), "error": new Array()}
            {% for case in results.details.get(suite).cases %}
            {% set id='{}.{}.{}.{}'.format(case.case.bench_name, case.case.ids.id, case.case.ids.subid, case.case.ids.name) %}
            {% if case.result == 50 %}
                all_data['{{suite}}']["pass"].push('{{id}}');
            {% endif %}
            {% if case.result == 51 %}
                all_data['{{suite}}']["failed"].push('{{id}}');
            {% endif %}
            {% if case.result == 52 %}
                all_data['{{suite}}']["skiped"].push('{{id}}');
            {% endif %}
            {% if case.result == 53 %}
                all_data['{{suite}}']["error"].push('{{id}}');
            {% endif %}
            {% endfor %}
            {% endfor %}
            console.log(all_data);
            dealstatus(status, all_data[suite]);
        }















    </script>

    <script language="javascript">
    </script>
    <title>{{results.name}}</title>
    <style type="text/css">
    </style>
    {% endblock %}
</head>
<body>
<div style="width:90%;margin:0 auto">
    <div class="row clearfix">
        <div class="col-md-12 column">
            <div class="jumbotron well">
                <div>
                    <center><h2> {{results.name}} </h2></center>
                    <br>
                </div>

                <table class="table">
                    <thead>
                    <tr>
                        <th>Platform</th>
                        <th>Haf Version</th>
                        <th>Suites</th>
                        <th>Begin Time</th>
                        <th>End Time</th>
                        <th>Pass</th>
                        <th>Fail</th>
                        <th>Error</th>
                        <th>Skip</th>
                        <th>All</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <td>{{results.platform}}</td>
                        <td>{{results.version}}</td>
                        <td>

                            <li><a onclick="showElement('all_suites')">all suites</a></li>
                            <ul id="all_suites" style="display:none">
                                {% block suite_temp %}
                                {% set i = 0 %}
                                {% for suite in results.suite_name %}
                                <li><a onclick="showElement('{{suite}}')">[{{suite}}]</a></li>
                                {% if i%3 == 0 %}
                                <br>
                                {% endif %}
                                {% set i = i + 1 %}
                                {% endfor %}
                                {% endblock %}
                            </ul>

                        </td>
                        <td>{{results.begin_time}}</td>
                        {% if results.end_time %}
                        <td>{{results.end_time}}</td>
                        {% else %}
                        <td>running...</td>
                        {% endif %}
                        <td><a onclick="showElement('all_pass')">{{results.passed}}</a></td>
                        <td><a onclick="showElement('all_fail')">{{results.failed}}</a></td>
                        <td><a onclick="showElement('all_error')">{{results.error}}</a></td>
                        <td><a onclick="showElement('all_skip')">{{results.skip}}</a></td>
                        <td>{{results.all}}</td>
                    </tr>
                    </tbody>
                </table>

                <div id="echart" style="width:100%; height:150px">
                    <script type="text/javascript">
                // 基于准备好的dom，初始化echarts实例
                    var myChart = echarts.init(document.getElementById('echart'));
                    option = {
                        title : {
                            text: '',
                            subtext: '',
                            x:'center'
                        },
                        tooltip : {
                            trigger: 'item',
                            formatter: "{a} <br/>{b} : {c} ({d}%)"
                        },
                        legend: {
                            type: 'scroll',
                            orient: 'vertical',
                            right: 10,
                            top: 20,
                            bottom: 20,
                            data: ["pass", "fail", "skip", "error"],
                            selected: {"pass": true, "fail":true, "skip":true, "error":true}
                        },
                        series : [
                            {
                                name: 'Result',
                                type: 'pie',
                                radius : '55%',
                                center: ['40%', '50%'],
                                data: [{name: "pass", value: {{results.passed}}, itemStyle: {color: '#01B468'}}, {name: "fail", value: {{results.failed}}, itemStyle: {color: '#EA0000'}}, {name:"skip", value: {{results.skip}}, itemStyle: {color: '#8E8E8E'}}, {name: "error", value: {{results.error}}, itemStyle: {color: '#D200D2'}}],
                                itemStyle: {
                                    emphasis: {
                                        shadowBlur: 10,
                                        shadowOffsetX: 0,
                                        shadowColor: 'rgba(0, 0, 0, 0.5)'
                                    }
                                }
                            }
                        ]
                    };
                    myChart.on('click', function(params){
                        showElement('all_'+params.data.name)
                    });
                    myChart.setOption(option);




                    </script>
                </div>
            </div>
            <div class="row clearfix" style="display:none" id="all_pass">
                {% block all_pass %}
                <div class="col-md-12 column">
                    <div class="row clearfix">
                        <div class="col-md-12 column">
                            <nav class="navbar navbar-default" role="navigation">
                                <div class="navbar-header">
                                    <button type="button" class="navbar-toggle" data-toggle="collapse"
                                            data-target="#bs-example-navbar-collapse-1">
                                        <span class="sr-only">Toggle navigation</span><span
                                            class="icon-bar"></span><span class="icon-bar"></span>
                                        <span class="icon-bar"></span>
                                    </button>
                                    <a class="navbar-brand" style="color:green" onclick="showElement('all_pass')">All
                                        Passed</a>
                                </div>
                                <ul class="nav navbar-nav navbar-right">
                                    <li><a onclick="showElement('all_pass')" style="color:red"> Close </a></li>
                                    <li><a></a></li>
                                </ul>
                            </nav>
                        </div>

                        <div class="jumbotron well">
                            <table class="table">
                                <thead>
                                <tr>
                                    <th>Suite - Case Id</th>
                                    <th>Request</th>
                                    <th>Response</th>
                                    <th>Sql</th>
                                    <th>Check</th>
                                    <th>Others</th>
                                    <th>Result</th>
                                </tr>
                                </thead>
                                <tbody>
                                {% for suite in results.details.keys() %}
                                {% for case in results.details.get(suite).cases %}
                                {% set infos = ["success","danger", "", "warning"] %}
                                {% set id='{}.{}.{}.{}.all-pass'.format(case.case.bench_name, case.case.ids.id,
                                case.case.ids.subid, case.case.ids.name) %}
                                {% set id_temp = '{}.{}.{}'.format(case.case.ids.id, case.case.ids.subid,
                                case.case.ids.name) %}
                                {% set method_group = {30: "GET", 31: "POST", 32: "PUT", 33: "DELETE"} %}
                                {% if case.result == 50 %}
                                <tr class="{{infos[case.result-50]}}" id="{{id}}">
                                    <td>[{{suite}}]-<{{id_temp}}></td>
                                    <td>

                                        <li>url : {{case.case.request.url}}</li>
                                        <li>method : {{method_group.get(case.case.request.method)}}</li>
                                        <li onclick="showElement('{{id}}-request')"><a>header/data</a></li>
                                        <ul id="{{id}}-request" style="display:none">
                                            <li>header :
                                                <pre>{{case.case.request.header}}</pre>
                                            </li>
                                            <li>data :
                                                <pre>{{case.case.request.data}}</pre>
                                            </li>
                                        </ul>
                                        <li onclick="showElement('{{id}}-params')">Params</li>
                                        <ul id="{{id}}-params" style="display:none">
                                            <li>
                                                <pre>{{case.case.param}}</pre>
                                            </li>
                                        </ul>
                                    </td>
                                    <td>
                                        {% set response=case.case.response.deserialize() %}
                                        <li>code : {{response.get("code")}}</li>
                                        <li onclick="showElement('{{id}}-response')"><a>header/body</a></li>
                                        <ul id="{{id}}-response" style="display:none">
                                            <li style="hidden:none">
                                                header :
                                                <pre>{{response.get("header")}}</pre>
                                            </li>
                                            <li style="hidden:none">
                                                body :
                                                <pre>{{response.get("body")}}</pre>
                                            </li>
                                        </ul>
                                    </td>
                                    <td>
                                        {% set sqlinfo=case.case.sqlinfo %}
                                        <li onclick="showElement('{{id}}-sqslscript')"><a>sql script</a></li>
                                        <ul id="{{id}}-sqslscript" style="display:none">
                                            <li style="hidden:none">
                                                scripts :
                                                <pre>{{sqlinfo.scripts}}</pre>
                                            </li>
                                        </ul>
                                        {% set expect=case.case.expect %}
                                        <li onclick="showElement('{{id}}-sqlresult')"><a>sql result</a></li>
                                        <ul id="{{id}}-sqlresult" style="display:none">
                                            <li style="hidden:none">
                                                sql result : <{{case.result_check_sql_response}}>
                                                <pre>{{expect.sql_response_result}}</pre>
                                            </li>
                                        </ul>
                                    </td>
                                    <td>
                                        {% set check1=case.result_check_response %}
                                        <li onclick="showElement('{{id}}-response_check')"><a>response check</a></li>
                                        <ul id="{{id}}-response_check" style="display:none">
                                            <li>result:{{check1}}</li>
                                            <li>code check:
                                                <pre>{{case.result_check_response[0]}}</pre>
                                            </li>
                                            <li><a href="file:///{{case.log_dir}}">body check:
                                                {{case.result_check_response[1]}}</a></li>
                                        </ul>
                                        {% set check2=case.result_check_sql_response %}
                                        <li onclick="showElement('{{id}}.sql_check')"><a>sql check</a></li>
                                        <ul id="{{id}}.sql_check" style="display:none">
                                            <li>result:{{check2}}</li>
                                            {% if case.case.sql_check_func != "" %}
                                            <li>check func: {{case.case.expect.sql_check_func}}</li>
                                            {% endif %}
                                        </ul>

                                        <li onclick="showElement('{{id}}.run_error')"><a>run error</a></li>
                                        <div id="{{id}}.run_error" style="display:none">
                                            <pre> {{case.run_error}} </pre>
                                        </div>
                                    </td>
                                    <td>
                                        <li>runner pid: {{case.runner}}</li>
                                        <li onclick="showElement('{{id}}.time_info')"><a>time</a></li>
                                        <ul id="{{id}}.time_info" style="display:none">
                                            <li> {{"beg {}".format(case.begin_time)}}</li>
                                            <li> {{"end {}".format(case.end_time)}}</li>
                                            <li> {{"dur {}".format(case.duration)}}</li>
                                        </ul>
                                        <li onclick="showElement('{{id}}.case_dependence')"><a>case dependence</a></li>
                                        <ul id="{{id}}.case_dependence" style="display:none">
                                            {% for dep in case.case.dependent %}
                                            <li>{{dep}}</li>
                                            {% endfor %}
                                        </ul>
                                    </td>
                                    {% set result_group = ["PASS","FAIL","SKIP","ERROR" ] %}
                                    <td>{{result_group[case.result-50]}}</td>
                                </tr>
                                {% endif %}
                                {% endfor %}
                                {% endfor %}

                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                {% endblock %}
            </div>


            <div class="row clearfix" style="display:none" id="all_fail">
                {% block all_fail %}
                <div class="col-md-12 column">
                    <div class="row clearfix">
                        <div class="col-md-12 column">
                            <nav class="navbar navbar-default" role="navigation">
                                <div class="navbar-header">
                                    <button type="button" class="navbar-toggle" data-toggle="collapse"
                                            data-target="#bs-example-navbar-collapse-1">
                                        <span class="sr-only">Toggle navigation</span><span
                                            class="icon-bar"></span><span class="icon-bar"></span>
                                        <span class="icon-bar"></span>
                                    </button>
                                    <a class="navbar-brand" style="color:red" onclick="showElement('all_fail')">All
                                        Failed</a>
                                </div>
                                <ul class="nav navbar-nav navbar-right">
                                    <li><a onclick="showElement('all_fail')" style="color:red"> Close </a></li>
                                    <li><a></a></li>
                                </ul>
                            </nav>
                        </div>

                        <div class="jumbotron well">
                            <table class="table">
                                <thead>
                                <tr>
                                    <th>Suite - Case Id</th>
                                    <th>Request</th>
                                    <th>Response</th>
                                    <th>Sql</th>
                                    <th>Check</th>
                                    <th>Others</th>
                                    <th>Result</th>
                                </tr>
                                </thead>
                                <tbody>
                                {% for suite in results.details.keys() %}
                                {% for case in results.details.get(suite).cases %}
                                {% set infos = ["success","danger", "", "warning"] %}
                                {% set id='{}.{}.{}.{}.all-fail'.format(case.case.bench_name, case.case.ids.id,
                                case.case.ids.subid, case.case.ids.name) %}
                                {% set id_temp = '{}.{}.{}'.format(case.case.ids.id, case.case.ids.subid,
                                case.case.ids.name) %}
                                {% set method_group = {30: "GET", 31: "POST", 32: "PUT", 33: "DELETE"} %}
                                {% if case.result == 51 %}
                                <tr class="{{infos[case.result-50]}}" id="{{id}}">
                                    <td>[{{suite}}]-<{{id_temp}}></td>
                                    <td>

                                        <li>url : {{case.case.request.url}}</li>
                                        <li>method : {{method_group.get(case.case.request.method)}}</li>
                                        <li onclick="showElement('{{id}}-request')"><a>header/data</a></li>
                                        <ul id="{{id}}-request" style="display:none">
                                            <li>header :
                                                <pre>{{case.case.request.header}}</pre>
                                            </li>
                                            <li>data :
                                                <pre>{{case.case.request.data}}</pre>
                                            </li>
                                        </ul>
                                        <li onclick="showElement('{{id}}-params')">Params</li>
                                        <ul id="{{id}}-params" style="display:none">
                                            <li>
                                                <pre>{{case.case.param}}</pre>
                                            </li>
                                        </ul>
                                    </td>
                                    <td>
                                        {% set response=case.case.response.deserialize() %}
                                        <li>code : {{response.get("code")}}</li>
                                        <li onclick="showElement('{{id}}-response')"><a>header/body</a></li>
                                        <ul id="{{id}}-response" style="display:none">
                                            <li style="hidden:none">
                                                header :
                                                <pre>{{response.get("header")}}</pre>
                                            </li>
                                            <li style="hidden:none">
                                                body :
                                                <pre>{{response.get("body")}}</pre>
                                            </li>
                                        </ul>
                                    </td>
                                    <td>
                                        {% set sqlinfo=case.case.sqlinfo %}
                                        <li onclick="showElement('{{id}}-sqslscript')"><a>sql script</a></li>
                                        <ul id="{{id}}-sqslscript" style="display:none">
                                            <li style="hidden:none">
                                                scripts :
                                                <pre>{{sqlinfo.scripts}}</pre>
                                            </li>
                                        </ul>
                                        {% set expect=case.case.expect %}
                                        <li onclick="showElement('{{id}}-sqlresult')"><a>sql result</a></li>
                                        <ul id="{{id}}-sqlresult" style="display:none">
                                            <li style="hidden:none">
                                                sql result : <{{case.result_check_sql_response}}>
                                                <pre>{{expect.sql_response_result}}</pre>
                                            </li>
                                        </ul>
                                    </td>
                                    <td>
                                        {% set check1=case.result_check_response %}
                                        <li onclick="showElement('{{id}}-response_check')"><a>response check</a></li>
                                        <ul id="{{id}}-response_check" style="display:none">
                                            <li>result:{{check1}}</li>
                                            <li>code check:
                                                <pre>{{case.result_check_response[0]}}</pre>
                                            </li>
                                            <li><a href="file:///{{case.log_dir}}">body check:
                                                {{case.result_check_response[1]}}</a></li>
                                        </ul>
                                        {% set check2=case.result_check_sql_response %}
                                        <li onclick="showElement('{{id}}.sql_check')"><a>sql check</a></li>
                                        <ul id="{{id}}.sql_check" style="display:none">
                                            <li>result:{{check2}}</li>
                                            {% if case.case.sql_check_func != "" %}
                                            <li>check func: {{case.case.expect.sql_check_func}}</li>
                                            {% endif %}
                                        </ul>

                                        <li onclick="showElement('{{id}}.run_error')"><a>run error</a></li>
                                        <div id="{{id}}.run_error" style="display:none">
                                            <pre> {{case.run_error}} </pre>
                                        </div>
                                    </td>
                                    <td>
                                        <li>runner pid: {{case.runner}}</li>
                                        <li onclick="showElement('{{id}}.time_info')"><a>time</a></li>
                                        <ul id="{{id}}.time_info" style="display:none">
                                            <li> {{"beg {}".format(case.begin_time)}}</li>
                                            <li> {{"end {}".format(case.end_time)}}</li>
                                            <li> {{"dur {}".format(case.duration)}}</li>
                                        </ul>
                                        <li onclick="showElement('{{id}}.case_dependence')"><a>case dependence</a></li>
                                        <ul id="{{id}}.case_dependence" style="display:none">
                                            {% for dep in case.case.dependent %}
                                            <li>{{dep}}</li>
                                            {% endfor %}
                                        </ul>
                                    </td>
                                    {% set result_group = ["PASS","FAIL","SKIP","ERROR" ] %}
                                    <td>{{result_group[case.result-50]}}</td>
                                </tr>
                                {% endif %}
                                {% endfor %}
                                {% endfor %}

                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                {% endblock %}
            </div>


            <div class="row clearfix" style="display:none" id="all_skip">
                {% block all_skip %}
                <div class="col-md-12 column">
                    <div class="row clearfix">
                        <div class="col-md-12 column">
                            <nav class="navbar navbar-default" role="navigation">
                                <div class="navbar-header">
                                    <button type="button" class="navbar-toggle" data-toggle="collapse"
                                            data-target="#bs-example-navbar-collapse-1">
                                        <span class="sr-only">Toggle navigation</span><span
                                            class="icon-bar"></span><span class="icon-bar"></span>
                                        <span class="icon-bar"></span>
                                    </button>
                                    <a class="navbar-brand" style="color:black" onclick="showElement('all_skip')">All
                                        Skip</a>
                                </div>
                                <ul class="nav navbar-nav navbar-right">
                                    <li><a onclick="showElement('all_skip')" style="color:red"> Close </a></li>
                                    <li><a></a></li>
                                </ul>
                            </nav>
                        </div>

                        <div class="jumbotron well">
                            <table class="table">

                                <thead>
                                <tr>
                                    <th>Suite - Case Id</th>
                                    <th>Request</th>
                                    <th>Response</th>
                                    <th>Sql</th>
                                    <th>Check</th>
                                    <th>Others</th>
                                    <th>Result</th>
                                </tr>
                                </thead>
                                <tbody>
                                {% for suite in results.details.keys() %}
                                {% for case in results.details.get(suite).cases %}
                                {% set infos = ["success","danger", "", "warning"] %}
                                {% set id='{}.{}.{}.{}.all-skip'.format(case.case.bench_name, case.case.ids.id,
                                case.case.ids.subid, case.case.ids.name) %}
                                {% set id_temp = '{}.{}.{}'.format(case.case.ids.id, case.case.ids.subid,
                                case.case.ids.name) %}
                                {% set method_group = {30: "GET", 31: "POST", 32: "PUT", 33: "DELETE"} %}
                                {% if case.result == 52 %}
                                <tr class="{{infos[case.result-50]}}" id="{{id}}">
                                    <td>[{{suite}}]-<{{id_temp}}></td>
                                    <td>

                                        <li>url : {{case.case.request.url}}</li>
                                        <li>method : {{method_group.get(case.case.request.method)}}</li>
                                        <li onclick="showElement('{{id}}-request')"><a>header/data</a></li>
                                        <ul id="{{id}}-request" style="display:none">
                                            <li>header :
                                                <pre>{{case.case.request.header}}</pre>
                                            </li>
                                            <li>data :
                                                <pre>{{case.case.request.data}}</pre>
                                            </li>
                                        </ul>
                                        <li onclick="showElement('{{id}}-params')">Params</li>
                                        <ul id="{{id}}-params" style="display:none">
                                            <li>
                                                <pre>{{case.case.param}}</pre>
                                            </li>
                                        </ul>
                                    </td>
                                    <td>
                                        {% set response=case.case.response.deserialize() %}
                                        <li>code : {{response.get("code")}}</li>
                                        <li onclick="showElement('{{id}}-response')"><a>header/body</a></li>
                                        <ul id="{{id}}-response" style="display:none">
                                            <li style="hidden:none">
                                                header :
                                                <pre>{{response.get("header")}}</pre>
                                            </li>
                                            <li style="hidden:none">
                                                body :
                                                <pre>{{response.get("body")}}</pre>
                                            </li>
                                        </ul>
                                    </td>
                                    <td>
                                        {% set sqlinfo=case.case.sqlinfo %}
                                        <li onclick="showElement('{{id}}-sqslscript')"><a>sql script</a></li>
                                        <ul id="{{id}}-sqslscript" style="display:none">
                                            <li style="hidden:none">
                                                scripts :
                                                <pre>{{sqlinfo.scripts}}</pre>
                                            </li>
                                        </ul>
                                        {% set expect=case.case.expect %}
                                        <li onclick="showElement('{{id}}-sqlresult')"><a>sql result</a></li>
                                        <ul id="{{id}}-sqlresult" style="display:none">
                                            <li style="hidden:none">
                                                sql result : <{{case.result_check_sql_response}}>
                                                <pre>{{expect.sql_response_result}}</pre>
                                            </li>
                                        </ul>
                                    </td>
                                    <td>
                                        {% set check1=case.result_check_response %}
                                        <li onclick="showElement('{{id}}-response_check')"><a>response check</a></li>
                                        <ul id="{{id}}-response_check" style="display:none">
                                            <li>result:{{check1}}</li>
                                            <li>code check:
                                                <pre>{{case.result_check_response[0]}}</pre>
                                            </li>
                                            <li><a href="file:///{{case.log_dir}}">body check:
                                                {{case.result_check_response[1]}}</a></li>
                                        </ul>
                                        {% set check2=case.result_check_sql_response %}
                                        <li onclick="showElement('{{id}}.sql_check')"><a>sql check</a></li>
                                        <ul id="{{id}}.sql_check" style="display:none">
                                            <li>result:{{check2}}</li>
                                            {% if case.case.sql_check_func != "" %}
                                            <li>check func: {{case.case.expect.sql_check_func}}</li>
                                            {% endif %}
                                        </ul>

                                        <li onclick="showElement('{{id}}.run_error')"><a>run error</a></li>
                                        <div id="{{id}}.run_error" style="display:none">
                                            <pre> {{case.run_error}} </pre>
                                        </div>
                                    </td>
                                    <td>
                                        <li>runner pid: {{case.runner}}</li>
                                        <li onclick="showElement('{{id}}.time_info')"><a>time</a></li>
                                        <ul id="{{id}}.time_info" style="display:none">
                                            <li> {{"beg {}".format(case.begin_time)}}</li>
                                            <li> {{"end {}".format(case.end_time)}}</li>
                                            <li> {{"dur {}".format(case.duration)}}</li>
                                        </ul>
                                        <li onclick="showElement('{{id}}.case_dependence')"><a>case dependence</a></li>
                                        <ul id="{{id}}.case_dependence" style="display:none">
                                            {% for dep in case.case.dependent %}
                                            <li>{{dep}}</li>
                                            {% endfor %}
                                        </ul>
                                    </td>
                                    {% set result_group = ["PASS","FAIL","SKIP","ERROR" ] %}
                                    <td>{{result_group[case.result-50]}}</td>
                                </tr>
                                {% endif %}
                                {% endfor %}
                                {% endfor %}
                            </table>
                        </div>
                    </div>
                </div>
                {% endblock %}
            </div>


            <div class="row clearfix" style="display:none" id="all_error">
                {% block all_error %}
                <div class="col-md-12 column">
                    <div class="row clearfix">
                        <div class="col-md-12 column">
                            <nav class="navbar navbar-default" role="navigation">
                                <div class="navbar-header">
                                    <button type="button" class="navbar-toggle" data-toggle="collapse"
                                            data-target="#bs-example-navbar-collapse-1">
                                        <span class="sr-only">Toggle navigation</span><span
                                            class="icon-bar"></span><span class="icon-bar"></span>
                                        <span class="icon-bar"></span>
                                    </button>
                                    <a class="navbar-brand" style="color:yellow" onclick="showElement('all_error')">All
                                        Error</a>
                                </div>
                                <ul class="nav navbar-nav navbar-right">
                                    <li><a onclick="showElement('all_error')" style="color:red"> Close </a></li>
                                    <li><a></a></li>
                                </ul>
                            </nav>
                        </div>

                        <div class="jumbotron well">
                            <table class="table">

                                <thead>
                                <tr>
                                    <th>Suite - Case Id</th>
                                    <th>Request</th>
                                    <th>Response</th>
                                    <th>Sql</th>
                                    <th>Check</th>
                                    <th>Others</th>
                                    <th>Result</th>
                                </tr>
                                </thead>
                                <tbody>
                                {% for suite in results.details.keys() %}
                                {% for case in results.details.get(suite).cases %}
                                {% set infos = ["success","danger", "", "warning"] %}
                                {% set id='{}.{}.{}.{}.all-error'.format(case.case.bench_name, case.case.ids.id,
                                case.case.ids.subid, case.case.ids.name) %}
                                {% set id_temp = '{}.{}.{}'.format(case.case.ids.id, case.case.ids.subid,
                                case.case.ids.name) %}
                                {% set method_group = {30: "GET", 31: "POST", 32: "PUT", 33: "DELETE"} %}
                                {% if case.result == 53 %}
                                <tr class="{{infos[case.result-50]}}" id="{{id}}">
                                    <td>[{{suite}}]-<{{id_temp}}></td>
                                    <td>

                                        <li>url : {{case.case.request.url}}</li>
                                        <li>method : {{method_group.get(case.case.request.method)}}</li>
                                        <li onclick="showElement('{{id}}-request')"><a>header/data</a></li>
                                        <ul id="{{id}}-request" style="display:none">
                                            <li>header :
                                                <pre>{{case.case.request.header}}</pre>
                                            </li>
                                            <li>data :
                                                <pre>{{case.case.request.data}}</pre>
                                            </li>
                                        </ul>
                                        <li onclick="showElement('{{id}}-params')">Params</li>
                                        <ul id="{{id}}-params" style="display:none">
                                            <li>
                                                <pre>{{case.case.param}}</pre>
                                            </li>
                                        </ul>
                                    </td>
                                    <td>
                                        {% set response=case.case.response.deserialize() %}
                                        <li>code : {{response.get("code")}}</li>
                                        <li onclick="showElement('{{id}}-response')"><a>header/body</a></li>
                                        <ul id="{{id}}-response" style="display:none">
                                            <li style="hidden:none">
                                                header :
                                                <pre>{{response.get("header")}}</pre>
                                            </li>
                                            <li style="hidden:none">
                                                body :
                                                <pre>{{response.get("body")}}</pre>
                                            </li>
                                        </ul>
                                    </td>
                                    <td>
                                        {% set sqlinfo=case.case.sqlinfo %}
                                        <li onclick="showElement('{{id}}-sqslscript')"><a>sql script</a></li>
                                        <ul id="{{id}}-sqslscript" style="display:none">
                                            <li style="hidden:none">
                                                scripts :
                                                <pre>{{sqlinfo.scripts}}</pre>
                                            </li>
                                        </ul>
                                        {% set expect=case.case.expect %}
                                        <li onclick="showElement('{{id}}-sqlresult')"><a>sql result</a></li>
                                        <ul id="{{id}}-sqlresult" style="display:none">
                                            <li style="hidden:none">
                                                sql result : <{{case.result_check_sql_response}}>
                                                <pre>{{expect.sql_response_result}}</pre>
                                            </li>
                                        </ul>
                                    </td>
                                    <td>
                                        {% set check1=case.result_check_response %}
                                        <li onclick="showElement('{{id}}-response_check')"><a>response check</a></li>
                                        <ul id="{{id}}-response_check" style="display:none">
                                            <li>result:{{check1}}</li>
                                            <li>code check:
                                                <pre>{{case.result_check_response[0]}}</pre>
                                            </li>
                                            <li><a href="file:///{{case.log_dir}}">body check:
                                                {{case.result_check_response[1]}}</a></li>
                                        </ul>
                                        {% set check2=case.result_check_sql_response %}
                                        <li onclick="showElement('{{id}}.sql_check')"><a>sql check</a></li>
                                        <ul id="{{id}}.sql_check" style="display:none">
                                            <li>result:{{check2}}</li>
                                            {% if case.case.sql_check_func != "" %}
                                            <li>check func: {{case.case.expect.sql_check_func}}</li>
                                            {% endif %}
                                        </ul>

                                        <li onclick="showElement('{{id}}.run_error')"><a>run error</a></li>
                                        <div id="{{id}}.run_error" style="display:none">
                                            <pre> {{case.run_error}} </pre>
                                        </div>
                                    </td>
                                    <td>
                                        <li>runner pid: {{case.runner}}</li>
                                        <li onclick="showElement('{{id}}.time_info')"><a>time</a></li>
                                        <ul id="{{id}}.time_info" style="display:none">
                                            <li> {{"beg {}".format(case.begin_time)}}</li>
                                            <li> {{"end {}".format(case.end_time)}}</li>
                                            <li> {{"dur {}".format(case.duration)}}</li>
                                        </ul>
                                        <li onclick="showElement('{{id}}.case_dependence')"><a>case dependence</a></li>
                                        <ul id="{{id}}.case_dependence" style="display:none">
                                            {% for dep in case.case.dependent %}
                                            <li>{{dep}}</li>
                                            {% endfor %}
                                        </ul>
                                    </td>
                                    {% set result_group = ["PASS","FAIL","SKIP","ERROR" ] %}
                                    <td>{{result_group[case.result-50]}}</td>
                                </tr>
                                {% endif %}
                                {% endfor %}
                                {% endfor %}

                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                {% endblock %}
            </div>

            <div>
                <table class="table">

                    <thead>
                    <tr>
                        <th>Suite - Case Id</th>
                        <th>Request</th>
                        <th>Response</th>
                        <th>Sql</th>
                        <th>Check</th>
                        <th>Others</th>
                        <th>Result</th>
                    </tr>
                    </thead>
                    <tbody>
                    {% for suite_summary in results.summary.keys() %}
                    <tr>
                        <td><a onclick="showElement('{{suite_summary}}')">{{suite_summary}}</a></td>
                        <td>{{results.summary.get(suite_summary).base_url}}</td>
                        <td>{{results.summary.get(suite_summary).begin_time}}</td>
                        <td>{{results.summary.get(suite_summary).end_time}}</td>
                        <td>{{results.summary.get(suite_summary).duration}}</td>
                        <td><a onclick="showElements('{{suite_summary}}', 'pass')">{{results.summary.get(suite_summary).passed}}</a>
                        </td>
                        <td><a onclick="showElements('{{suite_summary}}', 'failed')">{{results.summary.get(suite_summary).failed}}</a>
                        </td>
                        <td><a onclick="showElements('{{suite_summary}}', 'error')">{{results.summary.get(suite_summary).error}}</a>
                        </td>
                        <td><a onclick="showElements('{{suite_summary}}', 'skiped')">{{results.summary.get(suite_summary).skip}}</a>
                        </td>
                        <td><a onclick="showElements('{{suite_summary}}', 'all')">{{results.summary.get(suite_summary).all}}</a>
                        </td>
                    </tr>
                    {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
        <div class="row clearfix">
            {% block suites %}
            {% for suite in results.details.keys() %}
            <div class="col-md-12 column">
                <div class="row clearfix">
                    <div class="col-md-12 column">
                        <nav class="navbar navbar-default" role="navigation">
                            <div class="navbar-header">
                                <button type="button" class="navbar-toggle" data-toggle="collapse"
                                        data-target="#bs-example-navbar-collapse-1">
                                    <span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span
                                        class="icon-bar"></span>
                                    <span class="icon-bar"></span>
                                </button>
                                <a class="navbar-brand" onclick="showElement('{{suite}}')">{{suite}}</a>
                            </div>

                            <ul class="nav navbar-nav navbar-right">
                                <li><a onclick="showElements('{{suite}}', 'pass')" style="color:green">PASS-{{results.summary.get(suite).passed}}</a>
                                </li>
                                <li><a onclick="showElements('{{suite}}', 'failed')" style="color:red">FAILED-{{results.summary.get(suite).failed}}</a>
                                </li>
                                <li><a onclick="showElements('{{suite}}', 'skiped')" style="color:black">SKIPED-{{results.summary.get(suite).skip}}</a>
                                </li>
                                <li><a onclick="showElements('{{suite}}', 'error')" style="color:#FF00FF">ERROR-{{results.summary.get(suite).error}}</a>
                                </li>
                                <li><a onclick="showElements('{{suite}}', 'all')" style="color:grey">ALL-{{results.summary.get(suite).all}}</a>
                                </li>
                                <li><a> </a></li>
                            </ul>
                        </nav>
                    </div>

                    <div id="{{suite}}" class="jumbotron well" style="display:none">
                        <table class="table">

                            <thead>
                            <tr>
                                <th>Suite - Case Id</th>
                                <th>Request</th>
                                <th>Response</th>
                                <th>Sql</th>
                                <th>Check</th>
                                <th>Others</th>
                                <th>Result</th>
                            </tr>
                            </thead>
                            <tbody>
                            {% for case in results.details.get(suite).cases %}
                            {% set infos = ["success","danger", "", "warning"] %}
                            {% set id='{}.{}.{}.{}'.format(case.case.bench_name, case.case.ids.id, case.case.ids.subid,
                            case.case.ids.name) %}
                            {% set id_temp = '{}.{}.{}'.format(case.case.ids.id, case.case.ids.subid,
                            case.case.ids.name) %}
                            {% set method_group = {30: "GET", 31: "POST", 32: "PUT", 33: "DELETE"} %}
                            <tr class="{{infos[case.result-50]}}" id="{{id}}">
                                <td>[{{suite}}]-<{{id_temp}}></td>
                                <td>

                                    <li>url : {{case.case.request.url}}</li>
                                    <li>method : {{method_group.get(case.case.request.method)}}</li>
                                    <li onclick="showElement('{{id}}-request')"><a>header/data</a></li>
                                    <ul id="{{id}}-request" style="display:none">
                                        <li>header :
                                            <pre>{{case.case.request.header}}</pre>
                                        </li>
                                        <li>data :
                                            <pre>{{case.case.request.data}}</pre>
                                        </li>
                                    </ul>
                                    <li onclick="showElement('{{id}}-params')">Params</li>
                                    <ul id="{{id}}-params" style="display:none">
                                        <li>
                                            <pre>{{case.case.param}}</pre>
                                        </li>
                                    </ul>
                                </td>
                                <td>
                                    {% set response=case.case.response.deserialize() %}
                                    <li>code : {{response.get("code")}}</li>
                                    <li onclick="showElement('{{id}}-response')"><a>header/body</a></li>
                                    <ul id="{{id}}-response" style="display:none">
                                        <li style="hidden:none">
                                            header :
                                            <pre>{{response.get("header")}}</pre>
                                        </li>
                                        <li style="hidden:none">
                                            body :
                                            <pre>{{response.get("body")}}</pre>
                                        </li>
                                    </ul>
                                </td>
                                <td>
                                    {% set sqlinfo=case.case.sqlinfo %}
                                    <li onclick="showElement('{{id}}-sqslscript')"><a>sql script</a></li>
                                    <ul id="{{id}}-sqslscript" style="display:none">
                                        <li style="hidden:none">
                                            scripts :
                                            <pre>{{sqlinfo.scripts}}</pre>
                                        </li>
                                    </ul>
                                    {% set expect=case.case.expect %}
                                    <li onclick="showElement('{{id}}-sqlresult')"><a>sql result</a></li>
                                    <ul id="{{id}}-sqlresult" style="display:none">
                                        <li style="hidden:none">
                                            sql result : <{{case.result_check_sql_response}}>
                                            <pre>{{expect.sql_response_result}}</pre>
                                        </li>
                                    </ul>
                                </td>
                                <td>
                                    {% set check1=case.result_check_response %}
                                    <li onclick="showElement('{{id}}-response_check')"><a>response check</a></li>
                                    <ul id="{{id}}-response_check" style="display:none">
                                        <li>result:{{check1}}</li>
                                        <li>code check:
                                            <pre>{{case.result_check_response[0]}}</pre>
                                        </li>
                                        <li><a href="file:///{{case.log_dir}}">body check:
                                            {{case.result_check_response[1]}}</a></li>
                                    </ul>
                                    {% set check2=case.result_check_sql_response %}
                                    <li onclick="showElement('{{id}}.sql_check')"><a>sql check</a></li>
                                    <ul id="{{id}}.sql_check" style="display:none">
                                        <li>result:{{check2}}</li>
                                        {% if case.case.sql_check_func != "" %}
                                        <li>check func: {{case.case.expect.sql_check_func}}</li>
                                        {% endif %}
                                    </ul>

                                    <li onclick="showElement('{{id}}.run_error')"><a>run error</a></li>
                                    <div id="{{id}}.run_error" style="display:none">
                                        <pre> {{case.run_error}} </pre>
                                    </div>
                                </td>
                                <td>
                                    <li>runner pid: {{case.runner}}</li>
                                    <li onclick="showElement('{{id}}.time_info')"><a>time</a></li>
                                    <ul id="{{id}}.time_info" style="display:none">
                                        <li> {{"beg {}".format(case.begin_time)}}</li>
                                        <li> {{"end {}".format(case.end_time)}}</li>
                                        <li> {{"dur {}".format(case.duration)}}</li>
                                    </ul>
                                    <li onclick="showElement('{{id}}.case_dependence')"><a>case dependence</a></li>
                                    <ul id="{{id}}.case_dependence" style="display:none">
                                        {% for dep in case.case.dependent %}
                                        <li>{{dep}}</li>
                                        {% endfor %}
                                    </ul>
                                </td>
                                {% set result_group = ["PASS","FAIL","SKIP","ERROR" ] %}
                                <td>{{result_group[case.result-50]}}</td>
                            </tr>
                            {% endfor %}
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            {% endfor %}
            {% endblock %}
        </div>
    </div>
</div>
</body>
</html>